{% extends 'index.html' %}
{% load static %}

{% block title %}Configurações{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/configuracoes.css' %}">
<script src="{% static 'js/configuracoes.js' %}" defer></script>
{% endblock %}

{% block body %}

<div class="config-container fade-in">

    <h2 class="titulo">OPÇÕES GERAIS</h2>

    <!-- Tema Escuro -->
    <div class="config-item">
        <div class="left">
            <i class="bi bi-moon-stars"></i>
            <div>
                <p class="titulo-opcao">Modo Escuro</p>
                <p class="sub">Ativar / Desativar tema escuro</p>
            </div>
        </div>

        <label class="switch">
            <input type="checkbox" id="toggleTema">
            <span class="slider"></span>
        </label>
    </div>

    <hr>

    <h2 class="titulo">CONTA</h2>

    <!-- Alterar Senha -->
    <div class="config-item senha-btn" id="btnSenha">
        <div class="left">
            <i class="bi bi-shield-lock"></i>
            <div>
                <p class="titulo-opcao">Alterar Senha</p>
            </div>
        </div>
        <i class="bi bi-chevron-right"></i>
    </div>

    <!-- Editar Perfil -->
    <a href="{% url 'perfil' %}" class="config-item link">
        <div class="left">
            <i class="bi bi-person-circle"></i>
            <div>
                <p class="titulo-opcao">Editar Perfil</p>
            </div>
        </div>
        <i class="bi bi-chevron-right"></i>
    </a>

    <!-- Excluir conta -->
    <div class="config-item link logout" id="btnExcluirConta">
        <div class="left">
            <i class="bi bi-trash"></i>
            <div>
                <p class="titulo-opcao">Excluir Conta</p>
                <p class="sub">Remover permanentemente sua conta</p>
            </div>
        </div>
    </div>

    <!-- Logout -->
    <a href="{% url 'logout' %}" class="config-item link logout">
        <div class="left">
            <i class="bi bi-box-arrow-right"></i>
            <div>
                <p class="titulo-opcao">Sair</p>
            </div>
        </div>
    </a>

</div>


<!-- Modal Alterar Senha -->
<div id="modalSenha" class="modal">
    <div class="modal-content animate-pop">
        <h3>Alterar Senha</h3>

        <input id="senhaAtual" type="password" placeholder="Senha Atual">
        <input id="novaSenha" type="password" placeholder="Nova Senha">
        <input id="confirmarSenha" type="password" placeholder="Confirmar Nova Senha">

        <div class="acoes">
            <button id="cancelarModal">Cancelar</button>
            <button id="confirmarSenhaBtn">Salvar</button>
        </div>
    </div>
</div>


<!-- Modal Excluir Conta -->
<div class="modal" id="modalExcluirConta">
    <div class="modal-content animate-pop">
        <h3>Excluir conta?</h3>
        <p style="color: var(--text-light); margin-bottom: 10px;">
            Esta ação é <b>irreversível</b>. Todos os seus dados serão removidos.
        </p>

        <div class="acoes">
            <button id="cancelarExclusao">Cancelar</button>
            <button id="confirmarExcluirBtn" class="danger">Excluir</button>
        </div>
    </div>
</div>

<!-- Toasts -->
<div id="toastSenha" class="toast">Senha alterada ✅</div>
<div id="toastExcluido" class="toast danger-toast">Conta excluída ✅</div>

{% endblock %}