{% extends 'index.html' %}
{% load static %}

{% block title %}Minhas Casas{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/minha_casa.css' %}">
<script src="{% static 'js/minha_casa.js' %}" defer></script>
{% endblock %}

{% block body %}
<div class="minha-casa-container">
    <h2>Minhas Casas</h2>

    {% if casas %}
        <div class="lista-casas">
            {% for casa in casas %}
                <div class="casa-card">
                    <h3>{{ casa.nome }}</h3>
                    <p><strong>ResponsÃ¡vel:</strong> {{ casa.responsavel.username }}</p>

                    {% if request.user == casa.responsavel %}
                        <button class="btn-add-user" data-id="{{ casa.id }}">+ Adicionar UsuÃ¡rio</button>
                        <button class="btn-remover-casa" data-id="{{ casa.id }}">ğŸ—‘ Remover Casa</button>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>VocÃª ainda nÃ£o possui casas.</p>
        <button class="btn-criar-casa" id="btnCriarCasa">+ Criar Casa</button>
    {% endif %}

    <!-- Modal de CriaÃ§Ã£o de Casa -->
    <div id="modalCriarCasa" class="modal">
        <div class="modal-content">
            <h3>Criar Nova Casa</h3>
            <input id="nomeCasa" placeholder="Nome da Casa" />
            <div class="modal-actions">
                <button id="salvarCasa">Salvar</button>
                <button id="cancelarCasa">Cancelar</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}